
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>个人资料</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Expires" CONTENT="-1">
    <meta http-equiv="Cache-Control" CONTENT="no-cache">
    <meta http-equiv="Pragma" CONTENT="no-cache">
    <link rel="stylesheet" href="/wx/css/g/baolong/html5/g.css">
    <link rel="stylesheet" href="/wx/css/p/baolong/html5/my/personalinfo.css">
</head>
<body onload="load();">
<!--html start-->
<div class="page">
    <div class="info">
        <div class="topblock clearfix">
            <i>
                <a href="#"><img src="/wx/img/baolong/html5/my/personalinfo/back.png"></a>
            </i>
            <h2>个人资料</h2>
        </div>
        <div class="setlist">
            <ul class="clearfix list">
                <li id="setname">
                    <img src="/wx/img/baolong/html5/my/personalinfo/name.png" class="frontpic">
                    <span class="text">昵称</span>
                    <img class="endpic" src="/wx/img/baolong/html5/my/personalinfo/rightarrow.png">
                    <span class="value" id="name"></span>
                </li>
                <li id="setgender">
                    <img src="/wx/img/baolong/html5/my/personalinfo/gender.png" class="frontpic">
                    <span class="text">性别</span>
                    <img class="endpic" src="/wx/img/baolong/html5/my/personalinfo/rightarrow.png">
                    <span class="value" id="gender"></span>
                </li>
                <li id="setdate">
                    <img src="/wx/img/baolong/html5/my/personalinfo/date.png" class="frontpic">
                    <span class="text">出生年月</span>
                    <img class="endpic" src="/wx/img/baolong/html5/my/personalinfo/rightarrow.png">
                    <span class="value" id="date"></span>
                </li>
            </ul>
        </div>
        <div class="mask hidden" id="namemask">
            <div class="inputname">
                <div class="top">修改昵称</div>
                <input type="text" placeholder="请输入新的昵称" id="newname">
                <p>请输入4-10个字符，支持中文、英文、数字、"-"、"_"</p>
                <ul class="clearfix confirm">
                    <li class="cancel" onclick="showObj('namemask','no');">取消</li>
                    <li onclick="confirmSetName();">确定</li>
                </ul>
            </div>
        </div>
        <div class="mask hidden" id="gendermask">
            <div class="choosegender">
                <div class="top">请选择性别</div>
                <ul class="clearfix gender">
                    <li><span>男</span><input type="radio" name="genderitem" value="male" checked></li>
                    <li><span>女</span><input type="radio" name="genderitem" value="female"></li>
                </ul>
                <ul class="clearfix confirm">
                    <li class="cancel" onclick="showObj('gendermask','no');">取消</li>
                    <li onclick="confirmSetGender();">确定</li>
                </ul>
            </div>
        </div>
        <div class="mask hidden" id="datemask">
            <div class="choosedate">
                <div class="top">请选择出生年月</div>
                <input id="dateinput" type="date" value="" placeholder="请选择日期"/>
                <ul class="clearfix confirm">
                    <li class="cancel" onclick="showObj('datemask','no');">取消</li>
                    <li onclick="confirmSetDate();">确定</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!--html end-->
<script type="text/javascript">
    var load = function(){
        //打开设置昵称面板
        var setName = document.getElementById("setname");
        setName.onclick = function(){
            showObj("namemask","yes");
        };
        //打开设置性别面板
        var setGender = document.getElementById("setgender");
        setGender.onclick = function(){
            showObj("gendermask","yes");
        };
        //打开设置日期面板
        var setDate = document.getElementById("setdate");
        setDate.onclick = function(){
            showObj("datemask","yes");
        };
    };
    var showObj = function(objid,yesorno){
        var obj = document.getElementById(objid);
        if(obj == null)return;
        if(yesorno == "yes"){
            obj.setAttribute("style","display:block");
        }else if(yesorno == "no"){
            obj.setAttribute("style","display:none");
        }
    };
    var cancelSetGender = function(){

    };
    var confirmSetName = function(){
        var newName = document.getElementById("newname");
        var name = document.getElementById("name");
        name.innerHTML= newName.value;
        showObj("namemask","no");
    };
    var confirmSetGender = function(){
        var radios = document.getElementsByName("genderitem");
        for(var i=0;i<radios.length;i++){
            if(radios[i].checked){
                var gender = document.getElementById("gender");
                gender.innerHTML = radios[i].value == "male" ? "男" : "女";
                break;
            }
        }
        showObj("gendermask","no");
    };
    var confirmSetDate = function(){
        var dateInput = document.getElementById("dateinput");
        var date = document.getElementById("date");
        date.innerHTML = dateInput.value;
        showObj("datemask","no");
    };
</script>
</body>
</html>